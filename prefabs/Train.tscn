[gd_scene load_steps=5 format=2]

[ext_resource path="res://scripts/Train.gd" type="Script" id=1]
[ext_resource path="res://textures/tilemap.png" type="Texture" id=2]
[ext_resource path="res://scripts/Cabin.gd" type="Script" id=3]

[sub_resource type="RectangleShape2D" id=1]
extents = Vector2( 10, 13.5 )

[node name="Train" type="KinematicBody2D"]
script = ExtResource( 1 )

[node name="FirstCabin" type="Node2D" parent="."]
script = ExtResource( 3 )

[node name="SpriteVertical" type="Sprite" parent="FirstCabin"]
texture = ExtResource( 2 )
region_enabled = true
region_rect = Rect2( 128, 96, 32, 32 )

[node name="SpriteHorizontal" type="Sprite" parent="FirstCabin"]
visible = false
texture = ExtResource( 2 )
region_enabled = true
region_rect = Rect2( 96, 96, 32, 32 )

[node name="SpriteCornerTopLeft" type="Sprite" parent="FirstCabin"]
visible = false
texture = ExtResource( 2 )
flip_h = true
region_enabled = true
region_rect = Rect2( 192, 96, 32, 32 )

[node name="SpriteCornerTopRight" type="Sprite" parent="FirstCabin"]
visible = false
texture = ExtResource( 2 )
region_enabled = true
region_rect = Rect2( 192, 96, 32, 32 )

[node name="SecondCabin" type="Node2D" parent="."]
script = ExtResource( 3 )

[node name="SpriteVertical" type="Sprite" parent="SecondCabin"]
visible = false
texture = ExtResource( 2 )
region_enabled = true
region_rect = Rect2( 128, 128, 32, 32 )

[node name="SpriteHorizontal" type="Sprite" parent="SecondCabin"]
visible = false
texture = ExtResource( 2 )
region_enabled = true
region_rect = Rect2( 96, 128, 32, 32 )

[node name="SpriteCornerTopLeft" type="Sprite" parent="SecondCabin"]
visible = false
texture = ExtResource( 2 )
flip_h = true
region_enabled = true
region_rect = Rect2( 192, 128, 32, 32 )

[node name="SpriteCornerTopRight" type="Sprite" parent="SecondCabin"]
visible = false
texture = ExtResource( 2 )
region_enabled = true
region_rect = Rect2( 192, 128, 32, 32 )

[node name="CollisionShape2D" type="CollisionShape2D" parent="."]
position = Vector2( 0, -0.5 )
shape = SubResource( 1 )
disabled = true

[node name="Timer" type="Timer" parent="."]
wait_time = 15.0
autostart = true

[connection signal="tile_changed" from="." to="FirstCabin" method="_on_Train_tile_changed"]
[connection signal="tile_changed" from="." to="SecondCabin" method="_on_Train_tile_changed"]
[connection signal="timeout" from="Timer" to="." method="_on_Timer_timeout"]
